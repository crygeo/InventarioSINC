<UserControl x:Class="Utilidades.Controls.PasswordBoxPlus"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:local="clr-namespace:Utilidades.Controls"
             mc:Ignorable="d" Background="White" HorizontalAlignment="Center"
             d:DataContext="{d:DesignInstance Type=local:PasswordBoxPlus}">
    <UserControl.Resources>


        <Style x:Key="CheckBoxStyle1" TargetType="{x:Type CheckBox}">

            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="CheckBox">
                        <Grid Background="Transparent">
                            <Path x:Name="Icon"
                                  Fill="{TemplateBinding Foreground}"
                                  Data="M244.425 98.725c-93.4 0-178.1 51.1-240.6 134.1-5.1 6.8-5.1 16.3 0 23.1 62.5 83.1 147.2 134.2 240.6 134.2s178.1-51.1 240.6-134.1c5.1-6.8 5.1-16.3 0-23.1-62.5-83.1-147.2-134.2-240.6-134.2zm6.7 248.3c-62 3.9-113.2-47.2-109.3-109.3 3.2-51.2 44.7-92.7 95.9-95.9 62-3.9 113.2 47.2 109.3 109.3-3.3 51.1-44.8 92.6-95.9 95.9zm-3.1-47.4c-33.4 2.1-61-25.4-58.8-58.8 1.7-27.6 24.1-49.9 51.7-51.7 33.4-2.1 61 25.4 58.8 58.8-1.8 27.7-24.2 50-51.7 51.7z"
                                  Stretch="Uniform" />

                        </Grid>

                        <ControlTemplate.Triggers>
                            <!-- Cambia el Path cuando el CheckBox está marcado -->
                            <Trigger Property="IsChecked" Value="False">
                                <Setter TargetName="Icon" Property="Data"
                                        Value="M1.264 6.666a.745.745 0 0 1 1.033.092C4.01 8.771 7.118 11.283 12 11.283c4.881 0 7.99-2.512 9.703-4.525a.745.745 0 0 1 1.033-.092.707.707 0 0 1 .094 1.01c-.528.621-1.183 1.29-1.972 1.933.042.046.079.099.109.157l1.955 3.826a.71.71 0 0 1-.328.963.741.741 0 0 1-.983-.321l-1.925-3.767a13.52 13.52 0 0 1-4.42 1.89l.875 4.285a.718.718 0 0 1-.575.844.733.733 0 0 1-.863-.563l-.882-4.314c-.58.07-1.188.108-1.821.108s-1.24-.038-1.821-.108l-.882 4.314a.733.733 0 0 1-.863.563.718.718 0 0 1-.575-.844l.876-4.286a13.483 13.483 0 0 1-3.757-1.48L2.32 14.344a.744.744 0 0 1-1.027.144.707.707 0 0 1-.146-1.005l2.608-3.402A15.022 15.022 0 0 1 1.17 7.676a.707.707 0 0 1 .094-1.01Z" />
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </UserControl.Resources>

    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition />
            <ColumnDefinition Width="30" />
        </Grid.ColumnDefinitions>
        <!-- Caja de Texto -->
        <TextBox Name="PasswordBox"
                 Margin="0,2,2,2"
                 Text="{Binding Password, RelativeSource={RelativeSource AncestorType=UserControl}}"
                 FontFamily="{Binding FontFamily, RelativeSource={RelativeSource AncestorType=UserControl}}"
                 Foreground="{Binding Foreground, RelativeSource={RelativeSource AncestorType=UserControl}}"
                 BorderBrush="Transparent"
                 BorderThickness="0"
                 Background="Transparent"
                 Focusable="True"
                 FontSize="{Binding FontSize, RelativeSource={RelativeSource AncestorType=UserControl}}"
                 VerticalAlignment="{Binding TextVerticalAlignment, RelativeSource={RelativeSource AncestorType=UserControl}}"
                 HorizontalAlignment="Stretch"
                 TextAlignment="{Binding TextHorizontalAlignment, RelativeSource={RelativeSource AncestorType=UserControl}}"
                 CaretBrush="{Binding CaretBrush, RelativeSource={RelativeSource AncestorType=UserControl}}" />

        <!-- Placeholder -->
        <TextBlock Name="PlaceholderText"
                   Foreground="{Binding PlaceholderForeground, RelativeSource={RelativeSource AncestorType=UserControl}}"
                   Background="{x:Null}"
                   FontFamily="Consolas"
                   Text="{Binding Placeholder, RelativeSource={RelativeSource AncestorType=UserControl}}"
                   FontSize="{Binding PlaceholderFontSize, RelativeSource={RelativeSource AncestorType=UserControl}}"
                   FontWeight="{Binding PlaceholderFontWeight, RelativeSource={RelativeSource AncestorType=UserControl}}"
                   Padding="2,0,10,0"
                   IsHitTestVisible="False"
                   Visibility="Collapsed"
                   VerticalAlignment="{Binding PlaceholderVerticalAlignment, RelativeSource={RelativeSource AncestorType=UserControl}}"
                   HorizontalAlignment="{Binding PlaceholderHorizontalAlignment, RelativeSource={RelativeSource AncestorType=UserControl}}" />

        <!-- Botón para Mostrar/Ocultar -->
        <CheckBox Grid.Column="1"
                  Style="{DynamicResource CheckBoxStyle1}" Name="ToggleVisibilityButton"
                  Width="20"
                  Foreground="{Binding Foreground, RelativeSource={RelativeSource AncestorType=UserControl}}"
                  VerticalAlignment="Stretch"
                  HorizontalAlignment="Center"
                  Focusable="False" />
    </Grid>
</UserControl>